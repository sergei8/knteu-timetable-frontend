{"version":3,"sources":["../../src/providers/mongodb-stitch/mongodb-stitch.ts","../../src/components/teacher-tt/teacher-tt.ts","../../src/components/student-tt/student-tt.ts","../../node_modules/@angular/core/fesm5 lazy","../../src lazy","../../src/providers/shared-data/shared-data.ts","../../src/components/setup/setup.ts","../../src/components/home/home.ts","../../src/components/teacher/teacher.ts","../../src/components/rating/rating.ts","../../src/components/student/student.ts","../../src/components/about/about.ts","../../src/components/hours/hours.ts","../../src/app/main.ts","../../src/providers/data/data.ts","../../src/providers/firestore-log/firestore-log.ts","../../src/app/app.module.ts","../../node_modules/moment/locale ^/.//.*$","../../src/app/credentials.ts","../../src/app/app.component.ts","../../src/components/rating-stars/rating-stars.ts","../../src/components/rating-chart/rating-chart.ts"],"names":[],"mappings":"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hB,sFAAgB;gBAChB,8FAAkB;gBAClB,8FAAkB;gBAClB,gFAAc;gBACd,gFAAc;gBACd,gFAAc;gBACd,gFAAc;gBACd,mFAAe;gBACf,oGAAoB;gBACpB,oGAAoB;aACrB;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,kEAAW,CAAC,OAAO,CAAC,8DAAK,EAAE,EAAE,EACjC;oBACE,KAAK,EAAE,EAEN;iBACF,CAAC;gBACE,8EAAgB;gBAChB,gEAAiB,CAAC,aAAa,CAAC,qEAAc,CAAC;gBAC/C,+EAAsB;gBACtB,wDAAY;aACb;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACf,8DAAK;gBACL,6EAAa;gBACb,sFAAgB;gBAChB,sFAAgB;gBAChB,8FAAkB;gBAClB,8FAAkB;gBAClB,gFAAc;gBACd,gFAAc;gBACd,gFAAc;gBACd,gFAAc;gBACd,mFAAe;gBACf,oGAAoB;gBACpB,oGAAoB;aACrB;YACD,SAAS,EAAE;gBACT,2EAAS;gBACT,iFAAY;gBACZ,uEAAO;gBACP,oEAAM;gBACN,eAAe;gBACf,yFAAgB;gBAChB,EAAC,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;gBACpD,2EAAY;gBACZ,0FAAa;gBACb,qGAAoB;gBACpB,wGAAqB;gBACrB,iEAAI;aACL;SACF,CAAC;OACW,SAAS,CACrB;IAAD,gBAAC;CAAA;AADqB;;;;;;;;ACzGtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;ACtQA;AAAO,IAAM,cAAc,GAAG;IAC5B,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,iCAAiC;IAC7C,WAAW,EAAE,wCAAwC;IACrD,SAAS,EAAE,iBAAiB;IAC5B,aAAa,EAAE,6BAA6B;IAC5C,iBAAiB,EAAE,cAAc;CAClC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPyD;AACf;AACO;AACM;AACX;AACW;AACb;AAEU;AACS;AA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","file":"main.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {\n  Stitch,\n  RemoteMongoClient,\n  AnonymousCredential,\n  StitchAppClient,\n  RemoteMongoDatabase\n} from 'mongodb-stitch-browser-sdk';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MongodbStitchProvider {\n\n  client: StitchAppClient;\n  db: RemoteMongoDatabase;\n  appId: string;\n  dbName: string;\n\n  constructor() {\n    this.appId = 'rating-kvicy';\n    this.dbName = 'ratings';\n  }\n\n  /**\n   *  Инициализация stitch-клиента (выполняется 1 раз при входе)\n   * @return {boolean} true - успешно, false - нет\n   */\n  initClient(): boolean {\n    try {\n      this.client = Stitch.initializeDefaultAppClient(this.appId);\n      this.db = this.client.getServiceClient(RemoteMongoClient.factory, 'mongodb-atlas').db(this.dbName);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Ищет в коллекции `teachers`список рейтиногов для имя препода\n   * если препода нету, возвращает пустой обїект\n   * @param teacherName - имя препода\n   * @return {Promise<number>} - массив с рейтингами\n   */\n  getTeacherRatingsList(teacherName): Promise<any> {\n    return new Promise((resolve => {\n        this.client.auth.loginWithCredential(new AnonymousCredential())\n          .then(() => this.db.collection('teachers')\n            .find({\"name\": teacherName}).asArray())\n          .then(docs => {\n            resolve(docs);\n          })\n          .catch((error) => console.log('Error getTeacherRatingsList' ,error))\n      }\n    ))\n  }\n\n  /**\n   * перезаписывает досумент препода новыми рейтингами или создает новый док-т, если препода нет в БД\n   * @param {object} rateList - объект с рейтингами препода\n   * @param {string} name - имя препода\n   * @return {Promise<any>}\n   */\n  writeTeacherDoc(rateList: object, name:string): Promise<any> {\n    return new Promise<any>(resolve => {\n      this.client.auth.loginWithCredential(new AnonymousCredential())\n        .then(() => this.db.collection('teachers')\n          .updateOne({name: name}, {$set: {rateList: rateList} }, {upsert: true}))\n        .catch((error) => console.log('writeTeacherDoc', error));\n      resolve();\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/mongodb-stitch/mongodb-stitch.ts","import {Component} from '@angular/core';\nimport {NavParams} from 'ionic-angular';\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\nimport {DataProvider} from '../../providers/data/data';\nimport {Nav} from 'ionic-angular';\nimport {RatingComponent} from \"../rating/rating\";\nimport {AlertController} from 'ionic-angular';\n// import {Device} from '@ionic-native/device';\n\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'teacher-tt',\n  templateUrl: 'teacher-tt.html'\n})\nexport class TeacherTtComponent {\n\n  checkForEmptyDay = TeacherTtComponent.checkForEmptyDay;\n\n  teacher: string;  // фио препода из расписания\n  teacherFullName: string; // фио препода со страницы кафедры\n  weekShowSwitch = {};   // скрывают/открывают дни недели\n  wdp: object;\n  details: object;\n  weekNames: string[];\n  dayNamesList: string[];\n  paraNamberList: string[];\n  eyeOffSwitch: boolean[];\n  eyeOnSwitch: boolean[];\n  rating: number;       // рейтинг\n  votedUsers: number;   // число проголосовавших\n  showVotes: boolean;   // выключается при ошибке доступа к БД что бы не показывать рейты\n  starsList: string[];\n  showSpinner: boolean;\n\n  showAddButton: boolean;\n\n  constructor(public navParams: NavParams, private sharedObjects: SharedObjects,\n              public data: DataProvider, public nav: Nav,\n              private alert: AlertController,\n              /*private device: Device*/) {\n\n    this.teacher = navParams.get('teacher');\n    this.wdp = navParams.get('wdp');\n    this.details = navParams.get('details');\n\n    this.weekNames = this.sharedObjects.weekNames;\n    this.dayNamesList = this.sharedObjects.dayNamesList;\n    this.paraNamberList = this.sharedObjects.paraNamberList;\n\n    this.eyeOffSwitch = [true, true];\n    this.eyeOnSwitch = [false, false];\n\n    this.showAddButton = this.sharedObjects.globalParams['saveRozklad'];\n\n    this.rating = 0;\n    this.votedUsers = 0;\n    this.showVotes = true;\n    this.showSpinner = true;\n\n\n    // заполним переключатели видимости недель\n    for (let i in this.weekNames) {\n      this.weekShowSwitch[this.weekNames[i]] = true;\n    }\n  }\n\n\n  /**\n   * Выполняется каждый раз при показе экрана\n   * вызывает считывание актуального рейта препода\n   */\n  ionViewDidEnter() {\n\n    // отладка --------------------------------------------\n    // this.sharedObjects.currentUserDeviceId = '1539103546771';\n    // this.sharedObjects.currentUserDeviceId = Date.now().toString();\n    //-----------------------------------------------------\n\n    // получить текущий рейтинг препода и построить звездочки\n    // ВСЕГДА при открытии этого экрана!!!\n    this.data.getTeacherRating(this.teacherFullName)\n      .then((result) => {\n          // когда фио препода обработалось в getTeacherRating\n          if (result) {\n            [this.rating, this.votedUsers, this.showVotes] = result;\n            this.starsList = this.data.createStarsList(this.rating);\n          }\n          else {\n            this.starsList = [];\n          }\n          this.showSpinner = false;\n        }\n      )\n      .catch((err) => console.log(err));\n  }\n\n  /**\n   * Проверяет, есть ли на данный день пары у прпода для вывода в расписании\n   * @param day\n   * @return {boolean}\n   */\n  static checkForEmptyDay(day): boolean {\n    let result = _.reduce(day, (acum, item) => acum += item.length, 0);\n    return result > 0;\n  }\n\n  // видеть/скрыть дни недели `weekName`\n  weekClicked(weekName, index) {\n    this.eyeOffSwitch[index] = !this.eyeOffSwitch[index];\n    this.eyeOnSwitch[index] = !this.eyeOnSwitch[index];\n    this.weekShowSwitch[weekName] = !this.weekShowSwitch[weekName];\n  }\n\n  saveTimeTable() {\n    const rozklad = {\n      id: 'teacher',\n      teacher: this.teacher,\n      wdp: this.wdp\n    };\n    this.data.saveTimeTable(rozklad);\n  }\n\n  /**\n   * возвращает url фотки препода\n   * @return {string}\n   */\n  getImage(): string {\n    if (this.details) {\n      // если фотки нету\n      if (this.details['img_url'] == null) {\n        return '';\n      } else {\n        return this.details['img_url'];\n      }\n    } else {\n      // если нету поля `details`\n      return '';\n    }\n  }\n\n  getName(): string {\n    this.teacherFullName = this.details ? this.details['name'] : '';\n    return this.teacherFullName;\n  }\n\n  getFacultet(): string {\n    return this.details ? this.details['fac'] : '';\n  }\n\n  getDepartment(): string {\n    return this.details ? this.details['dep'] : '';\n  }\n\n  /**\n   * проверяет было ли уже голосование с этого девайса\n   * выводит диалог да/нет и вызывает экран голосования\n   */\n  setRatingPage() {\n\n\n    // если общий объект teacherRate содержит список рейтингов\n    // то делаем обработку\n    if (Object.keys(this.sharedObjects.teacherRate).length > 0) {\n      const lastRates = this.sharedObjects.teacherRate;\n      const deviceId = this.sharedObjects.currentUserDeviceId;\n      // проверяем, голосовал ли уже юзер за єтого препода\n      if (Object.keys(lastRates).indexOf(deviceId) != -1) {\n        //  если голосовал, находим результаты последнего гососования\n        let [rate, date] = this.data.selectLastRate(lastRates[deviceId]);\n        const warningMessage = `Ваша оцінка за ${date.toLocaleDateString()} була ${rate}. Бажаєте змінити її?`\n        // вывод предупреждения\n        let confirm = this.alert.create({\n          subTitle: 'Попередження',\n          message: warningMessage,\n          buttons: [\n            {\n              text: 'Ні ',\n              handler: () => {\n              }\n            },\n            {\n              text: 'Так',\n              handler: () => {\n                this.showRating().then();\n              }\n            }\n          ]\n        });\n        confirm.present().then();\n      }\n      else {\n        this.showRating().then();\n      }\n    } else {\n      // иначе, если общий объект `teacherRate` пустой, то значит рейтингов\n      // по этому преподу не было и пееходим на экрай рейтов\n      // this.data.addNewTeacher(this.teacherFullName);\n      this.showRating().then();\n    }\n  }\n\n\n  async showRating() {\n    await this.nav.push(RatingComponent,\n      {\n        teacher: this.teacher,\n        details: this.details\n      });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/teacher-tt/teacher-tt.ts","import {Component} from '@angular/core';\nimport {NavParams} from 'ionic-angular';\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\nimport {DataProvider} from '../../providers/data/data';\nimport {FirestoreLogProvider} from '../../providers/firestore-log/firestore-log';\nimport {TeacherTtComponent} from \"../teacher-tt/teacher-tt\";\nimport {Nav} from 'ionic-angular';\n\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'student-tt',\n  templateUrl: 'student-tt.html'\n})\nexport class StudentTtComponent {\n\n  wdp: object;\n  facName: string;\n  course: string;\n  group: string;\n  weekNames: string[];\n  dayNamesList: string[];\n  paraNamberList: string[];\n  eyeOffSwitch: boolean[];\n  eyeOnSwitch: boolean[];\n  showAddButton: boolean;\n\n  weekShowSwitch = {};   // скрывают/открывают дни недели\n\n  constructor(public navParams: NavParams, private sharedObjects: SharedObjects,\n              public data: DataProvider, public nav: Nav, private fireStore: FirestoreLogProvider) {\n\n    this.wdp = navParams.get('wdp');\n    this.facName = navParams.get('facName');\n    this.course = navParams.get('course');\n    this.group = navParams.get('group');\n\n    this.weekNames = this.sharedObjects.weekNames;\n    this.dayNamesList = this.sharedObjects.dayNamesList;\n    this.paraNamberList = this.sharedObjects.paraNamberList;\n\n    this.eyeOffSwitch = [true, true];\n    this.eyeOnSwitch = [false, false];\n\n    this.showAddButton = this.sharedObjects.globalParams['saveRozklad'];\n\n    // заполним переключатели видимости недель\n    for (let i in this.weekNames) {\n      this.weekShowSwitch[this.weekNames[i]] = true;\n    }\n  }\n\n  // если пар нет - сигнализирует не выводить этот день\n  checkForEmptyDay(day): boolean {\n    let result = _.reduce(day, (acum, item) => acum += item.length, 0);\n    return result > 0;\n  }\n\n  // видеть/скрыть дни недели `weekName`\n  weekClicked(weekName: string, index: number): void {\n    this.eyeOffSwitch[index] = !this.eyeOffSwitch[index];\n    this.eyeOnSwitch[index] = !this.eyeOnSwitch[index];\n    this.weekShowSwitch[weekName] = !this.weekShowSwitch[weekName];\n  }\n\n  // возвражает количество преподавателей на пару (м.б. 1 или 2)\n  getPrepodsCount(week: string, day: string, para: string): number {\n    return _.range(this.wdp[week][day][para].length);\n  }\n\n  /**\n   * сохраняет распісаніе в локальном хранилище\n   */\n  saveTimeTable(): void {\n    const rozklad = {\n      id: 'student',\n      facName: this.facName,\n      course: this.course,\n      group: this.group,\n      wdp: this.wdp\n    };\n\n    this.data.saveTimeTable(rozklad);\n  }\n\n  openTeacher(name: string, discipline: string): void {\n    const teacheInfo: any[] = this.data.getTeacherWdp(name);\n    const wdp = teacheInfo[0];\n    const teacherDetails = teacheInfo[1];\n\n    this.fireStore.setTeacherPageLog(name, discipline, true).then().catch();\n\n    this.nav.push(TeacherTtComponent,\n      {\n        wdp: wdp,\n        teacher: name,\n        details: teacherDetails\n      }).then().catch();\n\n  }\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/student-tt/student-tt.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 227;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/fesm5 lazy\n// module id = 227\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 269;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 269\n// module chunks = 0","//TODO: перед установкой неового релиза включить логгироваие\n\nimport {Injectable} from '@angular/core';\n\n@Injectable()\nexport class SharedObjects {\n  allTimeTable: object;\n  WeekDayPara: object;\n  weekNames: string[];\n  dayNamesList: string[];\n  paraNamberList: string[];\n  globalParams: object;\n  stopLogging: boolean;\n  isConnected = true;  // наличие интернета\n  teacherRate: object;  // ВСЕ рейты текущего препода\n  currentUserDeviceId: string;\n  public teacherInfo = {\n    teacherName: '',\n    newTeacher: false,\n    newUserId: false,\n    currentRates: [],\n    rateList: {'dummy':[]}\n  };\n\n  constructor() {\n    this.globalParams = {};\n    this.allTimeTable = {};\n\n    /* Для отладки - не использовать логирование */\n    this.stopLogging = true;\n    /* ----------------------------------------- */\n\n    this.WeekDayPara = {\n      'Перший тиждень': {\n        'Понеділок': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Вівторок': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Середа': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Четвер': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'П\\'ятниця': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Субота': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []}\n      },\n      'Другий тиждень': {\n        'Понеділок': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Вівторок': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Середа': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Четвер': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'П\\'ятниця': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []},\n        'Субота': {'1': [], '2': [], '3': [], '4': [], '5': [], '6': [], '7': []}\n      }\n    };\n    this.weekNames = ['Перший тиждень', 'Другий тиждень'];\n    this.dayNamesList = ['Понеділок', 'Вівторок', 'Середа', 'Четвер', 'П\\'ятниця'];\n    this.paraNamberList = ['1', '2', '3', '4', '5', '6', '7'];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/shared-data/shared-data.ts","import {Component} from '@angular/core';\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\nimport {DataProvider} from '../../providers/data/data';\n\ndeclare const require: any;\nconst localforage: LocalForage = require(\"localforage\");\n\n@Component({\n  selector: 'setup',\n  templateUrl: 'setup.html'\n})\nexport class SetupComponent {\n\n  isSaveRozklad: boolean;\n  isAllowRating: boolean;\n\n  constructor(private sharedData: SharedObjects, private data: DataProvider) {\n\n    data.readSetup()\n      .then(result => {\n        this.isSaveRozklad = this.sharedData.globalParams['saveRozklad'];\n      })\n\n  }\n\n  saveRozkladClicked() {\n    this.sharedData.globalParams['saveRozklad'] = this.isSaveRozklad;\n    localforage.setItem('setup', this.sharedData.globalParams).then();\n  }\n\n  allowRating() {\n    this.sharedData.globalParams['allowRating'] = this.isAllowRating;\n    localforage.setItem('setup', this.sharedData.globalParams).then();\n\n  }\n\n  clearRozklad() {\n    localforage.removeItem('student')\n      .then(() => {\n        this.data.showToastMessage('Ви видалили збережений локально розклад', 'bottom',\n          'infoToast', false, 3000);\n        localforage.removeItem('teacher').then();\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/setup/setup.ts","import {Component, OnInit} from '@angular/core';\nimport {FirestoreLogProvider} from '../../providers/firestore-log/firestore-log'\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\n\n@Component({\n  selector: 'home',\n  templateUrl: 'home.html'\n})\nexport class HomeComponent implements OnInit {\n\n  constructor(private fireStore: FirestoreLogProvider,\n              public sharedObjects: SharedObjects) {\n  }\n\n  ngOnInit() {\n    if (!this.sharedObjects.stopLogging) {\n      this.fireStore.setHomePageLog().then().catch()\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/home/home.ts","import {Component} from '@angular/core';\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\nimport {DataProvider} from '../../providers/data/data';\nimport {FirestoreLogProvider} from '../../providers/firestore-log/firestore-log';\nimport {Nav} from 'ionic-angular';\nimport {TeacherTtComponent} from '../teacher-tt/teacher-tt';\n\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'teacher',\n  templateUrl: 'teacher.html'\n})\nexport class TeacherComponent {\n\n  allTimeTable = {};    //   сюда передается общее расписание\n  wdp: object;          // объект куда формируется расписание преподавателя\n  teachers: string[];\n  teacherDetails: Object;\n\n  selectedFacName: string;\n  selectedDepName: string;\n  facNameList: string[];\n  depNameList: string[];\n\n  constructor(public nav: Nav,\n              private sharedObjects: SharedObjects,\n              private data: DataProvider,\n              private  fireStore: FirestoreLogProvider) {\n\n    if (!this.sharedObjects.isConnected) {\n      this.data.showToastMessage('У Вас відсутнє підключення до Мережі!', 'bottom',\n        'warningToast', true, 3000);\n    }\n    this.selectedFacName = null;\n    this.selectedDepName = null;\n    this.teachers = [];\n    this.allTimeTable = this.sharedObjects.allTimeTable;\n    this.facNameList = data.getFacDepNameList()['fac'];\n    this.depNameList = data.getFacDepNameList()['dep'];\n  }\n\n\n  getTeacher(ev: any): void {\n\n    // построіть сортірований почіщенний спісок преподов\n    const rgx = new RegExp('^(ас )|^(проф )|^(вик )|^(доц )|^(ст в )');\n    let fullList = _.filter(Object.keys(this.allTimeTable).sort(), x => rgx.exec(x));\n\n    // получить вводиое поисковое значеие\n    let input = ev.target.value;\n\n    if (!input) {\n      this.teachers = [];\n      return;\n    }\n\n    //  начиная с 2-й введенной буквы фильтруем полный список по этим вхождениям\n    if (input.trim().length >= 2) {\n      this.teachers = fullList.filter(item => item.toLowerCase().indexOf(input.toLowerCase()) > -1\n      )\n    }\n    else {\n      this.teachers = [];\n    }\n\n  }\n\n  selectedTeacher(teacher) {\n\n    // this.wdp = $.extend(true, {}, this.sharedObjects.WeekDayPara);    //  очищаем расписание группы\n\n    const teacherInfo: any[] = this.data.getTeacherWdp(teacher);\n    this.wdp = teacherInfo[0];\n    this.teacherDetails = teacherInfo[1];\n\n    // логировать если разрешено\n    if (!this.sharedObjects.stopLogging) {\n      this.fireStore.setTeacherPageLog(teacher).then().catch();\n    }\n\n    this.nav.push(TeacherTtComponent,\n      {\n        wdp: this.wdp,\n        teacher: teacher,\n        details: this.teacherDetails\n      }).then().catch();\n\n  }\n\n  /**\n   * выбирает кафедры для конкретного фак-та\n   * @param {string} facName - название фак-та\n   */\n  getDepsByFac(): void {\n    this.depNameList = [];\n    this.depNameList = this.data.getFacDepNameList(this.selectedFacName)['dep'];\n  }\n\n  /**\n   * строит список преподавателей по выбранной в меню кафедре\n   */\n  getDepTeachers(): void {\n    this.teachers = [];\n    _.forEach(this.allTimeTable, (x, fio) => {\n      if (x.details) {\n        if (x.details.dep === this.selectedDepName) {\n          this.teachers.push(fio);\n        }\n      }\n    })\n  }\n\n  /**\n   * строит список преподов для выбранного в меню факультета\n   */\n  getFacTeachers(): void {\n    this.teachers = [];\n    _.forEach(this.allTimeTable, (x, fio) => {\n      if (x.details) {\n        if (x.details.fac === this.selectedFacName) {\n          this.teachers.push(fio);\n        }\n      }\n    })\n\n  }\n\n  /**\n   * вызывает построитель списка преподов для кафедры, если не выбрано,\n   * то для факультета\n   */\n  okClicked() {\n    if (this.selectedDepName) {\n      this.getDepTeachers()\n    } else {\n      this.getFacTeachers();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/teacher/teacher.ts","import {Component, OnInit} from '@angular/core';\nimport {NavController} from 'ionic-angular';\nimport {NavParams} from 'ionic-angular';\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\nimport {DataProvider} from '../../providers/data/data';\nimport {FirestoreLogProvider} from '../../providers/firestore-log/firestore-log'\nimport {Device} from '@ionic-native/device';\n\nimport {MongodbStitchProvider} from '../../providers/mongodb-stitch/mongodb-stitch';\n\n@Component({\n  selector: 'rating',\n  templateUrl: 'rating.html'\n})\nexport class RatingComponent implements OnInit {\n\n  details: object;    // детали по преподу\n  img_url: string;\n  showAvatar: boolean; // не виводіт аватар препода, если нет фотки\n  last: string; // фамілія\n  first: string; // імя\n  middle: string; // отчество\n  teacherRatingList: object;  // содержит последние рейтинги препода\n  settedRate: number = 0; // выбранный рейт\n\n  constructor(public sharedObjects: SharedObjects,\n              public nav: NavController, public navParams: NavParams,\n              public data: DataProvider,\n              public fireStore: FirestoreLogProvider,\n              private mongodbStitchProvider: MongodbStitchProvider,\n              public device: Device) {\n\n    this.showAvatar = true;\n\n    this.details = navParams.get('details');\n\n    try {\n    //  проверим есть ли аватар\n    if (this.details.hasOwnProperty(\"avatar_url\")) {\n      this.img_url = this.details[\"avatar_url\"];\n      console.log(this.img_url)\n    } else {\n      // аватара нету, может есть фотка?\n      if (this.details.hasOwnProperty(\"img_url\")) {\n        this.img_url = this.details[\"img_url\"];\n      } else {\n        // ничего нет - скроеим поле аватара\n        this.showAvatar = false;\n      }\n    }\n    } catch {\n      //что-то пошло не так ...\n      this.showAvatar = false;\n    }\n\n// распарсіть ФІО\n    const name = this.details['name'].split(' ');\n    this.last = name[0];\n    this.first = name[1];\n    this.middle = name[2];\n\n    this.teacherRatingList = this.sharedObjects.teacherInfo.currentRates;\n  }\n\n  ngOnInit() {\n\n    if (!this.sharedObjects.stopLogging) {\n      this.fireStore.setRatingPageLog(this.sharedObjects.teacherInfo.teacherName)\n        .then().catch()\n    }\n  }\n\n  /**\n   * выполняет цепочку асинхронных функций:\n   *  - запись рейта в БД\n   *  - вывод высплывающего сообщение\n   *  - запись статистики в лог\n   *  - возврат на предыдущий экран\n   */\n  acceptClicked(): void {\n    this.writeRateToDb()\n      .then((): void => {\n        this.data.showToastMessage('Дякуємо! Вашу думку враховано.', 'bottom',\n          'infoToast', false, 4000);\n      })\n      .then((): void => {\n        if (!this.sharedObjects.stopLogging) {\n          this.fireStore.setRatingPageLog(this.sharedObjects.teacherInfo.teacherName,\n            \"vote\")\n            .then().catch()\n        }\n      })\n      .then((): void => {\n        this.nav.popTo(this.nav.getByIndex(this.nav.length() - 2));\n      })\n      .catch((err) => console.log('Ошибка в Rating: ', err))\n\n  }\n\n  /**\n   * добавляет в рейтинги препода новый рейт и вызывает mongo-stich для записи\n   * нобновленного списка рейтингов в документ препода\n   * @return {Promise<any>}\n   */\n  writeRateToDb(): Promise<any> {\n    // обновить this.sharedObjects.teacherInfo.currentRates выставленным рейтингом `settedRate`\n\n    return new Promise<any>(resolve => {\n\n      const newRateObj = {\n        'date': new Date(),\n        'rating': this.settedRate\n      };\n\n      if (this.sharedObjects.teacherInfo.newUserId) {\n        this.sharedObjects.teacherInfo.rateList[this.device.uuid] = [newRateObj];\n        this.sharedObjects.teacherInfo.newUserId = true;\n      } else {\n        this.sharedObjects.teacherInfo.rateList[this.device.uuid].push(newRateObj);\n        this.sharedObjects.teacherInfo.newUserId = false;\n      }\n\n      const teacherDoc = {\n        name: this.sharedObjects.teacherInfo.teacherName,\n        rateList: this.sharedObjects.teacherInfo.rateList\n      };\n\n      this.mongodbStitchProvider.writeTeacherDoc(teacherDoc['rateList'], teacherDoc['name'])\n        .then(() => resolve());\n\n    });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rating/rating.ts","import {Component} from '@angular/core';\nimport {SharedObjects} from '../../providers/shared-data/shared-data';\nimport {DataProvider} from '../../providers/data/data';\nimport {StudentTtComponent} from '../student-tt/student-tt';\nimport {Nav} from 'ionic-angular';\n\nimport {FirestoreLogProvider} from '../../providers/firestore-log/firestore-log';\n\nimport * as _ from 'lodash';\nimport * as $ from 'jquery';\n\n@Component({\n  selector: 'student',\n  templateUrl: 'student.html'\n})\nexport class StudentComponent {\n\n  facNameList: string[] = [];\n  courseList: string[] = [];\n  groupList: string[] = [];\n  allTimeTable = {};    //   сюда передается общее расписание\n\n  selectedFacName: string;\n  selectedCourse: string;\n  selectedGruppa: string;\n\n\n  wdp: object;    // объект куда формируется расписание выбранной группы\n\n  constructor(public nav: Nav, private sharedObjects: SharedObjects,\n              private data: DataProvider,\n              private fireStore: FirestoreLogProvider) {\n    this.allTimeTable = this.sharedObjects.allTimeTable;\n    if (!this.sharedObjects.isConnected) {\n      this.data.showToastMessage('У Вас відсутнє підключення до Мережі!', 'bottom',\n        'warningToast', true, 0);\n    }\n\n    this.facNameList = this.data.getFacNameList();\n    this.groupList = [];\n  }\n\n  getCourseList() {\n\n    let courseNamberList = [];\n    _.each(this.allTimeTable, (fio) =>\n      _.forEach(this.sharedObjects.weekNames.map(x => fio[x]), (week) =>\n        _.each(week, (day) =>\n          _.each(day, (para) => {\n              let facName = para[0];\n              let courseNumber = para[1];\n              if ((facName == this.selectedFacName) && !(_.includes(courseNamberList, courseNumber))) {\n                courseNamberList.push(courseNumber);\n              }\n            }\n          )\n        )\n      )\n    );\n\n    this.courseList = courseNamberList.sort();\n    this.groupList = [];\n\n  }\n\n  getGroupList() {\n    let groupNumberList = [];\n\n    _.each(this.allTimeTable, (fio) =>\n      _.forEach(this.sharedObjects.weekNames.map(x => fio[x]), (week) =>\n        _.each(week, (day) =>\n          _.each(day, (para) => {\n              let facName = para[0];\n              let courseNumber = para[1];\n              let groupNumber = this.extractGroupNumber(para[2]);\n              if ((facName == this.selectedFacName)\n                && (courseNumber == this.selectedCourse)\n                && !(_.includes(groupNumberList, groupNumber))) {\n                groupNumberList.push(groupNumber);\n              }\n            }\n          )\n        )\n      )\n    );\n\n    this.groupList = groupNumberList.sort();\n  }\n\n  // извлекает из параметра первую группу, если на лекции их несколько\n  // '1,2,3,4' - выберет 1-ю группу\n  extractGroupNumber(groupsString) {\n    return groupsString.split(',')[0];\n  }\n\n\n  okClicked() {\n\n    this.wdp = $.extend(true, {}, this.sharedObjects.WeekDayPara);    //  очищаем расписание группы\n\n    _.each(this.allTimeTable, (fio, teacherName) =>\n      _.each(fio, (week, weekName) =>\n        _.each(week, (day, dayName) =>\n          _.each(day, (para, paraNumber) => {\n              if (this.selectedFacName === para[0]\n                && this.selectedCourse === para[1]\n                && para[2].split(',').indexOf(this.selectedGruppa) !== -1) {\n\n                if (this.wdp[weekName][dayName][paraNumber].length !== 0) {\n                  this.wdp[weekName][dayName][paraNumber] = this.wdp[weekName][dayName][paraNumber]\n                    .concat([[para[5], para[3], para[4], teacherName]]);\n                } else {\n                  this.wdp[weekName][dayName][paraNumber] = [[].concat(para[5], para[3], para[4], teacherName)];\n                }\n              }\n            }\n          )\n        )\n      )\n    );\n\n    this.fireStore.setStudentPageLog(this.selectedFacName, this.selectedCourse, this.selectedGruppa).then();\n\n    this.nav.push(StudentTtComponent,\n      {\n        wdp: this.wdp,\n        facName: this.selectedFacName,\n        course: this.selectedCourse,\n        group: this.selectedGruppa\n      });\n\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/student/student.ts","import {Component} from '@angular/core';\nimport {AppRate} from '@ionic-native/app-rate'\n\n@Component({\n  selector: 'about',\n  templateUrl: 'about.html'\n})\nexport class AboutComponent {\n\n  text: string;\n\n  constructor(private appRate: AppRate) {\n\n/*\n    this.appRate.preferences.storeAppURL = {\n      android: 'market://details?id=ek.knteu.timetable'\n    };\n\n    this.appRate.preferences.useLanguage = 'uk-UK'\n*/\n\nthis.appRate.preferences = {\n  usesUntilPrompt: 1,\n  storeAppURL: {\n    android: 'market://details?id=ek.knteu.timetable'\n  },\n  useLanguage: 'uk-UK',\n  displayAppName: 'розклад КНТЕУ'\n}\n\n\n  }\n\n\n\n  goToPlayMarket() {\n    // this.appRate.promptForRating(true);\n    this.appRate.navigateToAppStore();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/about/about.ts","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'hours',\n  templateUrl: 'hours.html'\n})\nexport class HoursComponent {\n\n  paraByHours = [];\n\n  constructor() {\n    this.paraByHours = [\n      {'number': 1, 'hours': '08:20 – 09:40', 'break': '15'},\n      {'number': 2, 'hours': '09:55 – 11:15', 'break': '35'},\n      {'number': 3, 'hours': '11:50 – 13:10', 'break': '20'},\n      {'number': 4, 'hours': '13:30 – 14:50', 'break': '10'},\n      {'number': 5, 'hours': '15:00 – 16:20', 'break': '10'},\n      {'number': 6, 'hours': '16:30 – 17:50', 'break': '10'},\n      {'number': 7, 'hours': '18:00 – 19:20', 'break': ''},\n    ]\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/hours/hours.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {HttpHeaders} from '@angular/common/http';\nimport 'rxjs/add/operator/map';\nimport {Observable} from \"rxjs/Observable\";\nimport {AlertController} from 'ionic-angular';\nimport {SharedObjects} from '../shared-data/shared-data';\nimport {ToastController} from 'ionic-angular';\n\nimport {MongodbStitchProvider} from '../mongodb-stitch/mongodb-stitch';\n\nimport * as $ from 'jquery';\nimport * as _ from 'lodash';\n\ndeclare const require: any;\nconst localforage: LocalForage = require(\"localforage\");\n\n\n@Injectable()\nexport class DataProvider {\n\n  constructor(public http: HttpClient,\n              private alert: AlertController,\n              public sharedObjects: SharedObjects,\n              private toast: ToastController,\n              public mongodbStitchProvider: MongodbStitchProvider) {\n  }\n\n  /**\n   * получает time-table одним куском из url\n   * @param url - место, где лежит time-table\n   * @return {Observable<Object>}\n   */\n  getFile(url): Observable<Object> {\n    let headers = new HttpHeaders();\n    headers.set('Accept-Encoding', 'gzip');\n    return this.http.get(url, {headers: headers})\n  }\n\n  // сохраняет распісаніе студента или препода локально\n  saveTimeTable(rozklad) {\n\n    let confirm = this.alert.create({\n      // subTitle: 'Збереження розкладу',\n      message: 'Ви бажаєте зберегти цей розклад у локальне сховище Вашого пристрою?',\n      buttons: [\n        {\n          text: 'Ні',\n          // cssClass: 'alertButton',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Так',\n          // cssClass: 'alertButton',\n          handler: () => {\n            if (rozklad.id === 'student') {\n              this.saveStudentRozklad(rozklad);\n            }\n            else {\n              this.savePrepodRozklad(rozklad);\n            }\n            this.showToastMessage('Розклад збережено', 'bottom',\n              'infoToast', false, 3000);\n          }\n        }\n      ]\n    });\n    confirm.present().then();\n  }\n\n  readStudentRozklad() {\n    const rozklad = {\n      facName: '',\n      course: '',\n      group: '',\n      wdp: {}\n    };\n    return localforage.getItem('student')\n      .then((result) => {\n          if (result) {\n            rozklad['facName'] = result['facName'];\n            rozklad['course'] = result['course'];\n            rozklad['group'] = result['group'];\n            rozklad['wdp'] = result['wdp'];\n            return rozklad;\n          }\n          else {\n            return {}\n          }\n        },\n        (error) => {\n          return {}\n        })\n\n  }\n\n  saveStudentRozklad(rozklad) {\n    localforage.setItem(\"student\", rozklad);\n  }\n\n  readPrepodRozklad() {\n    const rozklad = {\n      teacher: '',\n      wdp: {}\n    };\n    return localforage.getItem('teacher')\n      .then((result) => {\n          if (result) {\n            rozklad['teacher'] = result['teacher'];\n            rozklad['wdp'] = result['wdp'];\n            return rozklad;\n          }\n          else {\n            return {}\n          }\n        },\n        (error) => {\n          return {}\n        })\n\n  }\n\n  savePrepodRozklad(rozklad) {\n    localforage.setItem(\"teacher\", rozklad).then().catch();\n  }\n\n  readSetup() {\n    return localforage.getItem('setup')\n      .then(result => {\n          if (result || result == {}) {\n            this.sharedObjects.globalParams = result;\n          }\n        },\n        (error) => console.log('ошибка чтения Setup:', error));\n  }\n\n  showToastMessage(message, position, cssClass, showCloseButton, duration) {\n    const toast = this.toast.create({\n      message: message,\n      showCloseButton: showCloseButton,\n      closeButtonText: 'Ok',\n      duration: duration,\n      cssClass: cssClass,\n      position: position\n    });\n    toast.present().then().catch();\n  }\n\n  /**\n   * выбирает расписание преподавателя из TimeTable\n   * @param {string} name - фио препода\n   * @return {any[]} расписание и сведения о преподе (фио, фотка, ...)\n   */\n  getTeacherWdp(name: string): any[] {\n    let wdp = $.extend(true, {}, this.sharedObjects.WeekDayPara);    //  очищаем расписание группы\n    let teacherDetails: object = {};\n\n    _.each(this.sharedObjects.allTimeTable, (fio, teacherName) =>\n      _.each(this.sharedObjects.weekNames.map(x => fio[x]), (week, weekIndex) =>\n        _.each(week, (day, dayName) =>\n          _.each(day, (para, paraNumber) => {\n              if (teacherName === name) {\n                teacherDetails = fio.details;\n                const weekName = this.sharedObjects.weekNames[weekIndex];\n                wdp[weekName][dayName][paraNumber] = [].concat(para[5], para[3], para[4],\n                  para[0], para[1], para[2]);\n              }\n            }\n          )\n        )\n      )\n    );\n    return [wdp, teacherDetails];\n  }\n\n  /**\n   * строит список факультетов из TimeTable\n   * @return {string[]} - список фак-тов\n   */\n  getFacNameList(): string[] {\n\n    let facNameList: string[] = [];\n    _.each(this.sharedObjects.allTimeTable, (fio) =>\n      _.forEach(this.sharedObjects.weekNames.map(x => fio[x]), (week) =>\n        _.each(week, (day) =>\n          _.each(day, (para) => {\n              if (!(_.includes(facNameList, para[0]))) {\n                facNameList.push(para[0]);    // build faculties menu\n              }\n            }\n          )\n        )\n      )\n    );\n    return facNameList.sort();\n  }\n\n  /**\n   * Выбирает из Timetable...details полные названия факультетов и кафедр\n   * @return {object} - {'fac' - список факультетов, 'dep' - список кафедр}\n   */\n  getFacDepNameList(facName: string = null): object {\n\n    let depFacNames = {\n      'fac': <string[]>[],\n      'dep': <string[]>[]\n    };\n    _.each(this.sharedObjects.allTimeTable, (fio) => {\n        // если свойство `details` присутствует у препода то формируем списки\n        if (fio.details) {\n          if (_.indexOf(depFacNames.fac, fio.details.fac) === -1) {\n            depFacNames.fac.push(fio.details.fac);\n          }\n          // если название фак-та не задано, то выбираем все каф-ры\n          if (!facName) {\n            if (_.indexOf(depFacNames.dep, fio.details.dep) === -1) {\n              depFacNames.dep.push(fio.details.dep);\n            }\n          } else { /* иначе выбираем каф-ры по факультету facName*/\n            if (_.indexOf(depFacNames.dep, fio.details.dep) === -1 && facName === fio.details.fac) {\n              depFacNames.dep.push(fio.details.dep);\n            }\n          }\n        }\n      }\n    );\n    return depFacNames;\n  }\n\n  /**\n   * извлекает из БД документ с рейтингами препода teacherName\n   * @param teacherName - фио препода с кафедральной страницы (в detail)\n   * @return {Promise<Array<any>>} массив: [rating, votedUser, showVote]\n   */\n  getTeacherRating(teacherName): Promise<Array<any>> {\n\n    // в ratings накапливаются последние рейтинги выданные пользователями\n    let ratings = [];\n    // инициализируем переменные возврата\n    let rating = 0;\n    let votedUsers = 0;\n    let showVotes = true;\n    return new Promise<any>(resolve => {\n      // если фио препода нету то возвращаем фигу\n      if (teacherName == '') {\n        resolve(null);\n      }\n      // выбираем из БД рейтинги препода\n      this.mongodbStitchProvider.getTeacherRatingsList(teacherName)\n        .then(docs => {\n          const ratingObj = this.sharedObjects.teacherRate = docs.length > 0 ? docs[0]['rateList'] : {};\n          this.sharedObjects.teacherRate = ratingObj;\n\n          this.sharedObjects.teacherInfo.rateList = ratingObj;\n          this.sharedObjects.teacherInfo.teacherName = teacherName;\n\n          this.analyseDocs(ratingObj, teacherName);\n\n          if (Object.keys(ratingObj).length > 0) {\n            // в ratingObj - все рейтинги, оставленные преподу\n            // перебираем рейтинги по каждому пользователю;\n            for (let userId in ratingObj) {\n              // if (ratingObj.hasOwnProperty(userId)) {\n              // в userRatesList - рейтинги, оставленные пользователем для этого препода\n              let userRatesList: object[] = ratingObj[userId];\n              // выбираем из рейтингов пользователя последний оставленный\n              let lastRate = this.selectLastRate(userRatesList);\n              // добавляем его в массив актуальных рейтов\n              ratings.push(lastRate[0]);\n              // }\n            }\n          }\n          // сохраняем актуальные рейты препода в глоб. массиве\n          this.sharedObjects.teacherInfo.currentRates = ratings;\n\n          rating = _.round(_.sum(ratings) / ratings.length, 1);\n          votedUsers = ratings.length;\n          resolve([rating, votedUsers, showVotes]);\n        })\n        // если ошибка доступа к БД, то выключаем показ рейтинга\n        .catch(err => {\n          console.log('ошибка при доступе к БД', err);\n          showVotes = false;\n          resolve([0, 0, false]);\n        })\n    })\n  }\n\n  private analyseDocs(ratingObj: object, teacherName: string): void {\n    // еслі препод не найден - ставім флаг newTeacher\n    if (!ratingObj) {\n      this.sharedObjects.teacherInfo.newTeacher = true;\n      return;\n    }\n    // устанавливаем флаг есть ли id юзера  в ratingList (нету - true:newUser)\n\n    if (Object.keys(ratingObj).indexOf(this.sharedObjects.currentUserDeviceId) === -1) {\n      this.sharedObjects.teacherInfo.newUserId = true\n    }\n  }\n\n  writeTeacherRates(doc: object) {\n    this.mongodbStitchProvider.writeTeacherDoc(doc['rateList'], doc['name']).then();\n  }\n\n  /**\n   * находит последний рейт, установленный данным пользователем\n   * @param userRatesList - массив рейтингов [{date:__, rating:__}...]\n   * @return {number} - последний рейтинг и его дата\n   */\n  selectLastRate(userRatesList: object[]): any {\n    let lastRate = 0;\n    let maxDate = new Date(\"01/01/01\");\n    userRatesList.forEach((rate) => {\n      if (rate['date'] > maxDate) {\n        lastRate = rate['rating'];\n        maxDate = rate['date'];\n      }\n    });\n    return [lastRate, maxDate];\n  }\n\n  createStarsList(rating): string[] {\n    let starsList = new Array(5).fill(\"star-outline\");\n    let numberOfStars = Math.floor(rating);\n    let halfStar: boolean = rating - numberOfStars > 0;\n    for (let i = 0; i < numberOfStars; i++) {\n      starsList[i] = \"star\"\n    }\n    if (halfStar) {\n      starsList[numberOfStars] = 'star-half';\n    }\n    return starsList;\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.ts","import {Injectable} from '@angular/core';\nimport {Device} from '@ionic-native/device';\nimport {AngularFirestore} from 'angularfire2/firestore';\n// import {Geolocation} from '@ionic-native/geolocation';\nimport {NetworkInterface} from '@ionic-native/network-interface';\nimport {SharedObjects} from '../shared-data/shared-data';\n\n@Injectable()\nexport class FirestoreLogProvider {\n\n  constructor(private fireStore: AngularFirestore,\n              private device: Device,\n              private networkInterface: NetworkInterface,\n              public sharedObjects: SharedObjects) {\n  }\n\n  async setHomePageLog() {\n    const path = `Home/${Date.now()}`;\n    const homeDoc = this.fireStore.doc<any>(path);\n\n    let userIpAddr = {ip: null};\n    // перехват runtime-error при отладке\n    try {\n      userIpAddr = await this.networkInterface.getCarrierIPAddress();\n    } catch (e) {\n    }\n\n    homeDoc.set({\n      userDeviceId: this.sharedObjects.currentUserDeviceId,\n      userDeviceModel: this.device.model,\n      userDevicePlatform: this.device.platform,\n      userOsVersion: this.device.version,\n      userDeviceManufacturer: this.device.manufacturer,\n      userIp: userIpAddr.ip,\n      /*\n            userLatitude: location[0],\n            userLongitude: location[2],\n      */\n    }).then().catch();\n  }\n\n  async setStudentPageLog(faculty: string, course: string, group: string, saved = false) {\n    const path = `Student/${Date.now()}`;\n    const studentDoc = this.fireStore.doc<any>(path);\n\n    studentDoc.set({\n        userDeviceId: this.device.uuid,\n        faculty: faculty,\n        course: course,\n        group: group,\n        saved: saved\n      }\n    ).then().catch()\n  }\n\n  async setTeacherPageLog(teacherName: string, fromDiscipline: string = null, saved = false) {\n    const path = `Teacher/${Date.now()}`;\n    const teacherDoc = this.fireStore.doc<any>(path);\n    teacherDoc.set({\n      userDeviceId: this.device.uuid,\n      name: teacherName,\n      fromDiscipline: fromDiscipline,\n      saved: saved\n    }).then().catch()\n  }\n\n  async setRatingPageLog(teacherName: string, action:string='view') {\n    const path = `Rating/${Date.now()}`;\n    const ratingDoc = this.fireStore.doc<any>(path);\n    ratingDoc.set({\n      userDeviceId: this.device.uuid,\n      teacherName: teacherName,\n      action: action\n    }).then().catch()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firestore-log/firestore-log.ts","// TODO: 1. Перенести time-table.json в облако MongoDB\n// TOdo: 2. сделать возможность остановки/запуска логов на всех устройствах\n//          через конфиг на сервере\n// FIXME: 2. Спрятать как-то config.json\n// FIXME: 3. Поправить в конфиге ссылку на time-table.json\n\n\nimport {BrowserModule} from '@angular/platform-browser';\nimport {ErrorHandler, NgModule} from '@angular/core';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {HttpClientModule} from '@angular/common/http';\n\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {AppRate} from '@ionic-native/app-rate';\nimport {Device} from '@ionic-native/device';\nimport {NetworkInterface} from '@ionic-native/network-interface';\nimport {ChartsModule} from 'ng2-charts';\n\nimport {AngularFireModule} from 'angularfire2';\nimport {AngularFirestoreModule} from 'angularfire2/firestore';\nimport {firebaseConfig} from './credentials';\nimport {Push } from '@ionic-native/push';\n\n// import {StarRatingModule} from 'ionic3-star-rating';\n// import {Geolocation}from'@ionic-native/geolocation';\n\nimport {MyApp} from './app.component';\nimport {HomeComponent} from '../components/home/home';\nimport {TeacherComponent} from '../components/teacher/teacher';\nimport {StudentComponent} from '../components/student/student';\nimport {StudentTtComponent} from '../components/student-tt/student-tt';\nimport {TeacherTtComponent} from '../components/teacher-tt/teacher-tt';\nimport {AboutComponent} from '../components/about/about';\nimport {SetupComponent} from '../components/setup/setup';\nimport {HoursComponent} from '../components/hours/hours';\nimport {RatingComponent} from '../components/rating/rating';\nimport {RatingStarsComponent} from '../components/rating-stars/rating-stars';\nimport {RatingChartComponent} from '../components/rating-chart/rating-chart';\n\nimport {DataProvider} from '../providers/data/data';\nimport {SharedObjects} from '../providers/shared-data/shared-data';\nimport {FirestoreLogProvider} from '../providers/firestore-log/firestore-log';\nimport {MongodbStitchProvider} from '../providers/mongodb-stitch/mongodb-stitch';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomeComponent,\n    TeacherComponent,\n    StudentComponent,\n    StudentTtComponent,\n    TeacherTtComponent,\n    AboutComponent,\n    SetupComponent,\n    HoursComponent,\n    AboutComponent,\n    RatingComponent,\n    RatingStarsComponent,\n    RatingChartComponent\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule,\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFirestoreModule,\n    ChartsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomeComponent,\n    TeacherComponent,\n    StudentComponent,\n    StudentTtComponent,\n    TeacherTtComponent,\n    AboutComponent,\n    SetupComponent,\n    HoursComponent,\n    AboutComponent,\n    RatingComponent,\n    RatingStarsComponent,\n    RatingChartComponent\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    AppRate,\n    Device,\n    // Geolocation,\n    NetworkInterface,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    DataProvider,\n    SharedObjects,\n    FirestoreLogProvider,\n    MongodbStitchProvider,\n    Push,\n  ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"./af\": 329,\n\t\"./af.js\": 329,\n\t\"./ar\": 330,\n\t\"./ar-dz\": 331,\n\t\"./ar-dz.js\": 331,\n\t\"./ar-kw\": 332,\n\t\"./ar-kw.js\": 332,\n\t\"./ar-ly\": 333,\n\t\"./ar-ly.js\": 333,\n\t\"./ar-ma\": 334,\n\t\"./ar-ma.js\": 334,\n\t\"./ar-sa\": 335,\n\t\"./ar-sa.js\": 335,\n\t\"./ar-tn\": 336,\n\t\"./ar-tn.js\": 336,\n\t\"./ar.js\": 330,\n\t\"./az\": 337,\n\t\"./az.js\": 337,\n\t\"./be\": 338,\n\t\"./be.js\": 338,\n\t\"./bg\": 339,\n\t\"./bg.js\": 339,\n\t\"./bm\": 340,\n\t\"./bm.js\": 340,\n\t\"./bn\": 341,\n\t\"./bn.js\": 341,\n\t\"./bo\": 342,\n\t\"./bo.js\": 342,\n\t\"./br\": 343,\n\t\"./br.js\": 343,\n\t\"./bs\": 344,\n\t\"./bs.js\": 344,\n\t\"./ca\": 345,\n\t\"./ca.js\": 345,\n\t\"./cs\": 346,\n\t\"./cs.js\": 346,\n\t\"./cv\": 347,\n\t\"./cv.js\": 347,\n\t\"./cy\": 348,\n\t\"./cy.js\": 348,\n\t\"./da\": 349,\n\t\"./da.js\": 349,\n\t\"./de\": 350,\n\t\"./de-at\": 351,\n\t\"./de-at.js\": 351,\n\t\"./de-ch\": 352,\n\t\"./de-ch.js\": 352,\n\t\"./de.js\": 350,\n\t\"./dv\": 353,\n\t\"./dv.js\": 353,\n\t\"./el\": 354,\n\t\"./el.js\": 354,\n\t\"./en-au\": 355,\n\t\"./en-au.js\": 355,\n\t\"./en-ca\": 356,\n\t\"./en-ca.js\": 356,\n\t\"./en-gb\": 357,\n\t\"./en-gb.js\": 357,\n\t\"./en-ie\": 358,\n\t\"./en-ie.js\": 358,\n\t\"./en-il\": 359,\n\t\"./en-il.js\": 359,\n\t\"./en-nz\": 360,\n\t\"./en-nz.js\": 360,\n\t\"./eo\": 361,\n\t\"./eo.js\": 361,\n\t\"./es\": 362,\n\t\"./es-do\": 363,\n\t\"./es-do.js\": 363,\n\t\"./es-us\": 364,\n\t\"./es-us.js\": 364,\n\t\"./es.js\": 362,\n\t\"./et\": 365,\n\t\"./et.js\": 365,\n\t\"./eu\": 366,\n\t\"./eu.js\": 366,\n\t\"./fa\": 367,\n\t\"./fa.js\": 367,\n\t\"./fi\": 368,\n\t\"./fi.js\": 368,\n\t\"./fo\": 369,\n\t\"./fo.js\": 369,\n\t\"./fr\": 370,\n\t\"./fr-ca\": 371,\n\t\"./fr-ca.js\": 371,\n\t\"./fr-ch\": 372,\n\t\"./fr-ch.js\": 372,\n\t\"./fr.js\": 370,\n\t\"./fy\": 373,\n\t\"./fy.js\": 373,\n\t\"./gd\": 374,\n\t\"./gd.js\": 374,\n\t\"./gl\": 375,\n\t\"./gl.js\": 375,\n\t\"./gom-latn\": 376,\n\t\"./gom-latn.js\": 376,\n\t\"./gu\": 377,\n\t\"./gu.js\": 377,\n\t\"./he\": 378,\n\t\"./he.js\": 378,\n\t\"./hi\": 379,\n\t\"./hi.js\": 379,\n\t\"./hr\": 380,\n\t\"./hr.js\": 380,\n\t\"./hu\": 381,\n\t\"./hu.js\": 381,\n\t\"./hy-am\": 382,\n\t\"./hy-am.js\": 382,\n\t\"./id\": 383,\n\t\"./id.js\": 383,\n\t\"./is\": 384,\n\t\"./is.js\": 384,\n\t\"./it\": 385,\n\t\"./it.js\": 385,\n\t\"./ja\": 386,\n\t\"./ja.js\": 386,\n\t\"./jv\": 387,\n\t\"./jv.js\": 387,\n\t\"./ka\": 388,\n\t\"./ka.js\": 388,\n\t\"./kk\": 389,\n\t\"./kk.js\": 389,\n\t\"./km\": 390,\n\t\"./km.js\": 390,\n\t\"./kn\": 391,\n\t\"./kn.js\": 391,\n\t\"./ko\": 392,\n\t\"./ko.js\": 392,\n\t\"./ky\": 393,\n\t\"./ky.js\": 393,\n\t\"./lb\": 394,\n\t\"./lb.js\": 394,\n\t\"./lo\": 395,\n\t\"./lo.js\": 395,\n\t\"./lt\": 396,\n\t\"./lt.js\": 396,\n\t\"./lv\": 397,\n\t\"./lv.js\": 397,\n\t\"./me\": 398,\n\t\"./me.js\": 398,\n\t\"./mi\": 399,\n\t\"./mi.js\": 399,\n\t\"./mk\": 400,\n\t\"./mk.js\": 400,\n\t\"./ml\": 401,\n\t\"./ml.js\": 401,\n\t\"./mn\": 402,\n\t\"./mn.js\": 402,\n\t\"./mr\": 403,\n\t\"./mr.js\": 403,\n\t\"./ms\": 404,\n\t\"./ms-my\": 405,\n\t\"./ms-my.js\": 405,\n\t\"./ms.js\": 404,\n\t\"./mt\": 406,\n\t\"./mt.js\": 406,\n\t\"./my\": 407,\n\t\"./my.js\": 407,\n\t\"./nb\": 408,\n\t\"./nb.js\": 408,\n\t\"./ne\": 409,\n\t\"./ne.js\": 409,\n\t\"./nl\": 410,\n\t\"./nl-be\": 411,\n\t\"./nl-be.js\": 411,\n\t\"./nl.js\": 410,\n\t\"./nn\": 412,\n\t\"./nn.js\": 412,\n\t\"./pa-in\": 413,\n\t\"./pa-in.js\": 413,\n\t\"./pl\": 414,\n\t\"./pl.js\": 414,\n\t\"./pt\": 415,\n\t\"./pt-br\": 416,\n\t\"./pt-br.js\": 416,\n\t\"./pt.js\": 415,\n\t\"./ro\": 417,\n\t\"./ro.js\": 417,\n\t\"./ru\": 418,\n\t\"./ru.js\": 418,\n\t\"./sd\": 419,\n\t\"./sd.js\": 419,\n\t\"./se\": 420,\n\t\"./se.js\": 420,\n\t\"./si\": 421,\n\t\"./si.js\": 421,\n\t\"./sk\": 422,\n\t\"./sk.js\": 422,\n\t\"./sl\": 423,\n\t\"./sl.js\": 423,\n\t\"./sq\": 424,\n\t\"./sq.js\": 424,\n\t\"./sr\": 425,\n\t\"./sr-cyrl\": 426,\n\t\"./sr-cyrl.js\": 426,\n\t\"./sr.js\": 425,\n\t\"./ss\": 427,\n\t\"./ss.js\": 427,\n\t\"./sv\": 428,\n\t\"./sv.js\": 428,\n\t\"./sw\": 429,\n\t\"./sw.js\": 429,\n\t\"./ta\": 430,\n\t\"./ta.js\": 430,\n\t\"./te\": 431,\n\t\"./te.js\": 431,\n\t\"./tet\": 432,\n\t\"./tet.js\": 432,\n\t\"./tg\": 433,\n\t\"./tg.js\": 433,\n\t\"./th\": 434,\n\t\"./th.js\": 434,\n\t\"./tl-ph\": 435,\n\t\"./tl-ph.js\": 435,\n\t\"./tlh\": 436,\n\t\"./tlh.js\": 436,\n\t\"./tr\": 437,\n\t\"./tr.js\": 437,\n\t\"./tzl\": 438,\n\t\"./tzl.js\": 438,\n\t\"./tzm\": 439,\n\t\"./tzm-latn\": 440,\n\t\"./tzm-latn.js\": 440,\n\t\"./tzm.js\": 439,\n\t\"./ug-cn\": 441,\n\t\"./ug-cn.js\": 441,\n\t\"./uk\": 442,\n\t\"./uk.js\": 442,\n\t\"./ur\": 443,\n\t\"./ur.js\": 443,\n\t\"./uz\": 444,\n\t\"./uz-latn\": 445,\n\t\"./uz-latn.js\": 445,\n\t\"./uz.js\": 444,\n\t\"./vi\": 446,\n\t\"./vi.js\": 446,\n\t\"./x-pseudo\": 447,\n\t\"./x-pseudo.js\": 447,\n\t\"./yo\": 448,\n\t\"./yo.js\": 448,\n\t\"./zh-cn\": 449,\n\t\"./zh-cn.js\": 449,\n\t\"./zh-hk\": 450,\n\t\"./zh-hk.js\": 450,\n\t\"./zh-tw\": 451,\n\t\"./zh-tw.js\": 451\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 689;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 689\n// module chunks = 0","export const firebaseConfig = {\n  apiKey: \"AIzaSyAGNMaIizQCGHGL4c47Jxsb_J-alE1UvrQ\",\n  authDomain: \"knteu-timetable.firebaseapp.com\",\n  databaseURL: \"https://knteu-timetable.firebaseio.com\",\n  projectId: \"knteu-timetable\",\n  storageBucket: \"knteu-timetable.appspot.com\",\n  messagingSenderId: \"186245343652\"\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/credentials.ts","import {Component, ViewChild, OnInit} from '@angular/core';\nimport {Nav, Platform} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {AlertController} from 'ionic-angular';\nimport {SetupComponent} from '../components/setup/setup';\nimport {Device} from '@ionic-native/device';\n\nimport {HomeComponent} from '../components/home/home';\nimport {TeacherComponent} from '../components/teacher/teacher';\nimport {StudentComponent} from '../components/student/student';\nimport {StudentTtComponent} from '../components/student-tt/student-tt';\nimport {TeacherTtComponent} from \"../components/teacher-tt/teacher-tt\";\nimport {AboutComponent} from '../components/about/about';\nimport {HoursComponent} from '../components/hours/hours';\n\nimport {DataProvider} from '../providers/data/data';\nimport {SharedObjects} from '../providers/shared-data/shared-data';\nimport {FirestoreLogProvider} from '../providers/firestore-log/firestore-log'\nimport {MongodbStitchProvider} from '../providers/mongodb-stitch/mongodb-stitch';\nimport {Push, PushObject, PushOptions} from '@ionic-native/push';\n\nimport {timer} from 'rxjs/observable/timer';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp implements OnInit {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = HomeComponent;\n\n  appConfig = {};\n  timeTableUrl: string;\n  configUrl = 'https://raw.githubusercontent.com/sergei8/tt-mobile/master/app-config.json';\n\n  askForSavedRozklad: boolean;\n  showSplash = true; // <-- show animation\n\n\n  constructor(public platform: Platform,\n              public statusBar: StatusBar,\n              public splashScreen: SplashScreen,\n              private dataProvider: DataProvider,\n              public sharedObjects: SharedObjects,\n              private alert: AlertController,\n              private fireStore: FirestoreLogProvider,\n              private mongodbStitchProvider: MongodbStitchProvider,\n              private device: Device,\n              private push: Push) {\n\n    this.splashScreen.show();\n    this.readConfig();\n    this.initializeApp();\n    // this.readTimeTable();\n    this.pushSetup();\n\n    // подключение к mongodb через mongo stitch\n    if (this.mongodbStitchProvider.initClient()) {\n      console.log(\"[mongoClient] : done!\")\n    } else {\n      console.log(\"[mongoClient] : error!\")\n    }\n  }\n\n  pushSetup() {\n    const options: PushOptions = {\n      android: {\n        senderID: '186245343652'\n      },\n      ios: {\n        alert: 'true',\n        badge: true,\n        sound: 'false'\n      }\n    };\n\n    const pushObject: PushObject = this.push.init(options);\n\n\n    pushObject.on('notification').subscribe((notification: any) => console.log('Received a notification', notification));\n\n    pushObject.on('registration').subscribe((registration: any) => console.log('Device registered', registration));\n\n    pushObject.on('error').subscribe(error => console.error('Error with Push plugin', error));\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n\n      timer(3000).subscribe(() => this.showSplash = false)\n    });\n  }\n\n  ngOnInit() {\n    this.sharedObjects.currentUserDeviceId = this.device.uuid;\n  }\n\n  openStudent() {\n\n    this.dataProvider.readSetup()\n      .then(() => {\n        this.askForSavedRozklad = this.sharedObjects.globalParams['saveRozklad'];\n        if (this.askForSavedRozklad) {  // если включен режим сохранения расписания\n          this.dataProvider.readStudentRozklad()\n            .then((studentRozklad) => {\n                if (Object.keys(studentRozklad).length !== 0) {   // если розклад был удален\n                  let confirm = this.alert.create({\n                    // title: 'Збереження розкладу',\n                    message: 'У Вас є збережений розклад ' + studentRozklad['facName'] + ' ' +\n                    studentRozklad['course'] + ' курса ' + studentRozklad['group'] + ' групи. ' +\n                    'бажаєте відкрити цей розклад?',\n                    buttons: [\n                      {\n                        text: 'Ні',\n                        cssClass: 'alertButton',\n                        handler: () => {\n                          this.nav.push(StudentComponent).then().catch();\n                        }\n                      },\n                      {\n                        text: 'Так',\n                        cssClass: 'alertButton',\n                        handler: () => {\n                          // пишем лог по экрану студента\n                          this.fireStore.setStudentPageLog(studentRozklad['facName'],\n                            studentRozklad['course'], studentRozklad['group'], true);\n                          // переход на экран студента\n                          this.nav.push(StudentTtComponent,\n                            {\n                              wdp: studentRozklad['wdp'],\n                              facName: studentRozklad['facName'],\n                              course: studentRozklad['course'],\n                              group: studentRozklad['group']\n                            }).then().catch();\n                        }\n                      }\n                    ]\n                  });\n                  confirm.present().then().catch();\n                } else {\n                  this.nav.push(StudentComponent).then().catch();\n                }\n              }\n            );\n        } else {\n          this.nav.push(StudentComponent).then().catch();\n        }\n      })\n      .catch(() => {\n        this.nav.push(StudentComponent).then().catch();\n      });\n\n  }\n\n  openTeacher() {\n    this.dataProvider.readSetup()\n      .then(() => {\n        this.askForSavedRozklad = this.sharedObjects.globalParams['saveRozklad'];\n\n        if (this.askForSavedRozklad) {  // если включен режим сохранения расписания\n          this.dataProvider.readPrepodRozklad()\n            .then((prepodRozklad) => {\n              if (Object.keys(prepodRozklad).length !== 0) {\n                let confirm = this.alert.create({\n                  // title: 'Збереження розкладу',\n                  message: 'У Вас є збережений розклад ' + prepodRozklad['teacher'] + ' ' +\n                  'бажаєте відкрити цей розклад?',\n                  buttons: [\n                    {\n                      text: 'Ні',\n                      cssClass: 'alertButton',\n                      handler: () => {\n                        this.nav.push(TeacherComponent);\n                      }\n                    },\n                    {\n                      text: 'Так',\n                      cssClass: 'alertButton',\n                      handler: () => {\n                        this.nav.push(TeacherTtComponent,\n                          {\n                            wdp: prepodRozklad['wdp'],\n                            teacher: prepodRozklad['teacher']\n                          });\n                      }\n                    }\n                  ]\n                });\n                confirm.present();\n              } else {\n                this.nav.push(TeacherComponent).then().catch();\n              }\n            });\n        } else {\n          this.nav.push(TeacherComponent).then().catch();\n        }\n\n      });\n  }\n\n  openSetup() {\n    this.nav.push(SetupComponent).then().catch();\n  }\n\n  openAbout() {\n    this.nav.push(AboutComponent).then().catch();\n  }\n\n  openHours() {\n    this.nav.push(HoursComponent).then().catch();\n  }\n\n  // подписаться на получение файла time-table.json\n  readTimeTable() {\n    // todo отладочная вставка - удалить потом assets/db/time-table...\n    // this.timeTableUrl = 'http://localhost:8100/assets/db/time-table.json';\n    this.timeTableUrl = 'https://raw.githubusercontent.com/sergei8/TT-site/master/assets/db/time-table.json';\n    // ------------------\n    this.dataProvider.getFile(this.timeTableUrl)\n      .subscribe(\n        response => {\n          this.sharedObjects.allTimeTable = response;\n        },\n        error => {\n          this.sharedObjects.isConnected = false;\n          console.log('ERROR time-table: ', error);\n        }\n      );\n\n  }\n\n  // получіть конфіг-файл\n  readConfig(): void {\n    this.dataProvider.getFile(this.configUrl)\n      .subscribe(\n        response => {\n          this.timeTableUrl = response['time-table-url'];\n        },\n        error => {\n          console.log('Error config', error);\n          this.sharedObjects.isConnected = false;\n        },\n        () => {\n          /* когда app-config прочітан визиваем загрузку time-table.json*/\n          this.readTimeTable();\n        }\n      );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n  selector: 'rating-stars',\n  templateUrl: 'rating-stars.html'\n})\nexport class RatingStarsComponent {\n  @Input() settedRate: number;\n  @Output() settedRateChange = new EventEmitter();\n\n  rating: number;\n\n  constructor() {\n    this.rating = 0;\n  }\n\n  rateIt(num: number) {\n    this.rating = num;\n    this.settedRateChange.emit(this.rating);\n  }\n\n  setColor(num: number) {\n    if (this.rating) {\n      if (num > this.rating) {\n        return 'lightgray';\n      } else {\n        return '#FFCC33';\n      }\n    } else {\n      return 'lightgray';\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rating-stars/rating-stars.ts","import {Component, Input, OnChanges} from '@angular/core';\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'rating-chart',\n  templateUrl: 'rating-chart.html'\n})\nexport class RatingChartComponent implements OnChanges {\n  @Input() rating: object;\n  @Input() newRate: number;\n\n  totalRatesCount = [0, 0, 0, 0, 0];\n\n  public barChartOptions: any = {\n    scaleShowVerticalLines: true,\n    responsive: true,\n  };\n  public barChartLabels = [\n    '\\u2605\\u2605\\u2605\\u2605\\u2605',\n    '\\u2605\\u2605\\u2605\\u2605',\n    '\\u2605\\u2605\\u2605',\n    '\\u2605\\u2605',\n    '\\u2605'];\n\n  public barChartType = 'horizontalBar';\n  public barChartLegend = false;\n  public barColors: Array<object> = [\n    {\n      backgroundColor: 'rgba(225,10,24,0.2)'\n    }];\n\n  public barChartData: Array<object> = [\n    {data: this.totalRatesCount}\n  ];\n\n  constructor() {\n  }\n\n  ngOnChanges() {\n    let ratesCountObj = _.countBy(this.rating);\n    let ratesData = [0, 0, 0, 0, 0];\n    _.each(Object.keys(ratesCountObj), key => {\n      let rateKey = parseInt(key) - 1;\n      ratesData[rateKey] = ratesCountObj[key];\n    });\n\n    if (this.newRate > 0) {\n      ratesData[this.newRate - 1] += 1;\n    }\n\n    this.totalRatesCount = _.reverse(ratesData);\n    this.barChartData = [{data: this.totalRatesCount}];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rating-chart/rating-chart.ts"],"sourceRoot":""}